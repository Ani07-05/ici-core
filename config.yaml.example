# ICI Framework Configuration

# Global settings
system:
  log_level: "INFO"
  data_dir: "data"

# Telegram Ingestor Configuration
telegram:
  # Get these values from https://my.telegram.org/apps
  api_id: "YOUR_API_ID_HERE"
  api_hash: "YOUR_API_HASH_HERE"
  phone_number: "+12345678901"  # Your phone number with country code
  session_file: "data/telegram_session"
  request_delay: 1.0  # Seconds between API requests to avoid rate limiting

# Logger Configuration
logger:
  console_output: true
  file_output: true
  log_dir: "logs"
  log_format: "json"
  rotation: "daily"  # Options: hourly, daily, weekly, size
  max_size_mb: 100

# Vector Store Configuration
vector_store:
  type: "chroma"  # Specifies ChromaDB as the vector store implementation
  collection_name: "ici_documents"  # Name of the collection to use
  persist_directory: "./data/chroma_db"  # Optional: Path for persistent storage
  # If persist_directory is omitted, an in-memory database will be used

# Embedder Configuration
embedder:
  model: "sentence-transformers/all-MiniLM-L6-v2"
  device: "cpu"  # Options: cpu, cuda
  batch_size: 32
  cache_size: 5000  # Number of embeddings to cache in memory

# Preprocessor Configuration
preprocessor:
  chunk_size: 512  # Maximum tokens per chunk
  chunk_overlap: 50  # Overlap between chunks
  add_metadata: true  # Whether to add metadata to chunks

# Validator Configuration
validator:
  rules_path: "config/validation_rules.yaml"
  max_input_length: 1000  # Maximum characters in user input
  default_timeout: 5  # Seconds to wait for validation

# Generator Configuration
generator:
  model: "gpt-4"  # Model to use for generation
  api_key_env: "OPENAI_API_KEY"  # Environment variable for API key
  default_options:
    temperature: 0.7
    max_tokens: 1000
    top_p: 0.95
    frequency_penalty: 0.0
    presence_penalty: 0.0

# Prompt Builder Configuration
prompt_builder:
  templates_path: "config/prompt_templates.yaml"
  default_template: "standard"
  max_context_length: 4000  # Maximum tokens in context

# Orchestrator Configuration
orchestrator:
  num_results: 5  # Default number of results to retrieve
  context_window: 14  # Days of history to consider for context
  error_retry: 3  # Number of retries on error

# Pipeline Configuration
pipeline:
  scheduler_type: "interval"  # Options: interval, cron, event
  interval_minutes: 60  # For interval scheduler
  max_workers: 4  # Maximum concurrent ingestors 